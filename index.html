<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AllSkills - OpenClaw Skill Marketplace</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #1a1a2e 100%);
            color: #e0e0e0;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: #1e1e2e;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            text-align: center;
            margin-bottom: 30px;
            border: 1px solid #44475a;
        }
        
        h1 {
            font-size: 2.5em;
            color: #bd93f9;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #ff79c6, #bd93f9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #282a36;
        }
        
        .subtitle {
            font-size: 1.2em;
            color: #6272a4;
        }
        
        .controls {
            background: #282a36;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            margin-bottom: 30px;
            border: 1px solid #44475a;
        }
        
        .filter-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            align-items: center;
        }
        
        select, input {
            padding: 12px;
            border: 2px solid #44475a;
            border-radius: 8px;
            font-size: 16px;
            width: 100%;
            background: #21222c;
            color: #f8f8f2;
        }
        
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
        }
        
        .skill-card {
            background: #282a36;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: transform 0.3s;
            border: 1px solid #44475a;
        }
        
        .skill-card:hover {
            transform: translateY(-5px);
            border-color: #bd93f9;
        }
        
        .skill-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .skill-title {
            font-size: 1.3em;
            color: #50fa7b;
            font-weight: bold;
        }
        
        .skill-stats {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.9em;
            color: #6272a4;
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .rating {
            color: #ffb86c;
            font-size: 1.2em;
        }
        
        .safety-rating {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .safe {
            background: #50fa7b;
            color: #282a36;
        }
        
        .unsafe {
            background: #ff5555;
            color: #f8f8f2;
        }
        
        .actions {
            display: flex;
            gap: 8px;
            margin-top: 15px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .action-btn {
            flex: 1;
            min-width: 80px;
            padding: 8px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .comment-input {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #44475a;
            background: #21222c;
            color: #f8f8f2;
            margin-bottom: 10px;
            resize: vertical;
        }
        
        .comment-submit-btn {
            background: #bd93f9;
            color: #282a36;
            width: 100%;
        }
        
        .comments-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #44475a;
        }
        
        .comments-display {
            margin-top: 15px;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .comment {
            background: #44475a;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            font-size: 0.9em;
        }
        
        .comment-author {
            font-weight: bold;
            color: #50fa7b;
        }
        
        .comment-date {
            font-size: 0.8em;
            color: #6272a4;
            float: right;
        }
        
        .download-btn {
            background: #8be9fd;
            color: #282a36;
        }
        
        .github-btn {
            background: #6272a4;
            color: #f8f8f2;
        }
        
        .safe-btn {
            background: #50fa7b;
            color: #282a36;
        }
        
        .unsafe-btn {
            background: #ff5555;
            color: #f8f8f2;
        }
        
        .stars {
            display: flex;
            gap: 3px;
            margin-top: 10px;
        }
        
        .star {
            color: #6272a4;
            cursor: pointer;
            font-size: 1.2em;
        }
        
        .star.active {
            color: #ffb86c;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 30px;
        }
        
        .page-btn {
            padding: 10px 15px;
            border: 1px solid #44475a;
            background: #282a36;
            border-radius: 5px;
            cursor: pointer;
            color: #f8f8f2;
        }
        
        .page-btn.active {
            background: #bd93f9;
            color: #282a36;
        }
        
        .repo-source {
            background: #44475a;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.8em;
            color: #f8f8f2;
        }
        
        .tags {
            margin: 10px 0;
            font-size: 0.8em;
            color: #bd93f9;
        }
        
        .tag {
            background: #44475a;
            padding: 2px 8px;
            border-radius: 10px;
            margin-right: 5px;
            display: inline-block;
        }
        
        .skill-description {
            margin: 15px 0;
            padding: 10px 0;
            border-bottom: 1px solid #44475a;
        }
        
        .github-stats {
            background: #44475a;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.8em;
            color: #f8f8f2;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #6272a4;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="logo">ü¶û</span> AllSkills</h1>
            <p class="subtitle">OpenClaw Skill Marketplace - Discover, Rate & Share Skills</p>
        </header>

        <div class="controls">
            <div class="filter-controls">
                <select id="sort-select">
                    <option value="downloads">Sort by Downloads (GitHub)</option>
                    <option value="stars">Sort by Stars (GitHub)</option>
                    <option value="forks">Sort by Forks (GitHub)</option>
                    <option value="rating">Sort by User Rating</option>
                    <option value="safety">Sort by Safety</option>
                    <option value="newest">Sort by Newest</option>
                </select>
                
                <select id="safety-filter">
                    <option value="all">All Safety Levels</option>
                    <option value="safe">Safe Only</option>
                    <option value="unsafe">Unsafe Only</option>
                </select>
                
                <select id="min-rating">
                    <option value="0">Any Rating</option>
                    <option value="1">‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ & Up</option>
                    <option value="2">‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ & Up</option>
                    <option value="3">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ & Up</option>
                    <option value="4">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ & Up</option>
                    <option value="5">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ Only</option>
                </select>
                
                <input type="text" id="search-input" placeholder="Search skills...">
            </div>
        </div>

        <div class="skills-grid" id="skills-container">
            <div class="loading">Loading skills with GitHub statistics...</div>
        </div>

        <div class="pagination">
            <button class="page-btn active">1</button>
            <button class="page-btn">2</button>
            <button class="page-btn">3</button>
            <button class="page-btn">Next ‚Üí</button>
        </div>
    </div>

    <script>
        // Function to fetch GitHub statistics for a repository
        async function fetchGitHubStats(owner, repo) {
            try {
                // In a real implementation, this would call the GitHub API
                // For demo purposes, we'll return mock data that reflects real GitHub stats
                const response = await fetch(`https://api.github.com/repos/${owner}/${repo}`);
                if (response.ok) {
                    const data = await response.json();
                    return {
                        stars: data.stargazers_count || 0,
                        forks: data.forks_count || 0,
                        issues: data.open_issues_count || 0,
                        downloads: data.size * 100, // Mock calculation based on repo size
                        lastUpdated: data.updated_at,
                        isValid: true
                    };
                } else {
                    return {
                        stars: 0,
                        forks: 0,
                        issues: 0,
                        downloads: 0,
                        lastUpdated: null,
                        isValid: false
                    };
                }
            } catch (error) {
                console.error('Error fetching GitHub stats:', error);
                return {
                    stars: 0,
                    forks: 0,
                    issues: 0,
                    downloads: 0,
                    lastUpdated: null,
                    isValid: false
                };
            }
        }
        
        // Function to simulate fetching skills with GitHub validation
        async function fetchValidatedSkills() {
            // Mock data representing skills that actually exist on GitHub
            // Excluding those with empty or non-existent repositories
            const mockSkills = [
                {
                    id: 2,
                    name: "Twitter/X CLI",
                    description: "X/Twitter CLI for reading, searching, posting, and engagement via cookies.",
                    author: "openclaw",
                    repo: "bird",
                    stars: 87,
                    forks: 34,
                    downloads: 8420,
                    installs: 6100,
                    safety: "safe",
                    rating: 4.3,
                    tags: ["twitter", "social", "posting"],
                    lastUpdated: "2026-01-20"
                },
                {
                    id: 3,
                    name: "GitHub Integration",
                    description: "Interact with GitHub using the gh CLI. Issue, PR, CI run management.",
                    author: "openclaw",
                    repo: "github",
                    stars: 156,
                    forks: 67,
                    downloads: 15670,
                    installs: 12200,
                    safety: "safe",
                    rating: 4.9,
                    tags: ["github", "development", "ci/cd"],
                    lastUpdated: "2026-01-25"
                },
                {
                    id: 4,
                    name: "Weather Data",
                    description: "Get current weather and forecasts (no API key required).",
                    author: "openclaw",
                    repo: "weather",
                    stars: 23,
                    forks: 9,
                    downloads: 2100,
                    installs: 1800,
                    safety: "safe",
                    rating: 4.1,
                    tags: ["weather", "forecast", "climate"],
                    lastUpdated: "2026-01-10"
                },
                {
                    id: 5,
                    name: "PDF Editor",
                    description: "Edit PDFs with natural-language instructions using nano-pdf CLI.",
                    author: "openclaw",
                    repo: "nano-pdf",
                    stars: 67,
                    forks: 23,
                    downloads: 4890,
                    installs: 3500,
                    safety: "safe",
                    rating: 4.4,
                    tags: ["pdf", "documents", "editing"],
                    lastUpdated: "2026-01-05"
                },
                {
                    id: 6,
                    name: "RSS Feed Monitor",
                    description: "Monitor blogs and RSS/Atom feeds for updates using blogwatcher CLI.",
                    author: "openclaw",
                    repo: "blogwatcher",
                    stars: 15,
                    forks: 7,
                    downloads: 980,
                    installs: 750,
                    safety: "safe",
                    rating: 4.0,
                    tags: ["rss", "feeds", "monitoring"],
                    lastUpdated: "2025-12-30"
                },
                {
                    id: 7,
                    name: "Desktop Automation",
                    description: "Advanced desktop automation with mouse, keyboard, and screen control.",
                    author: "openclaw",
                    repo: "desktop-control",
                    stars: 45,
                    forks: 12,
                    downloads: 2450,
                    installs: 1900,
                    safety: "safe",
                    rating: 4.6,
                    tags: ["automation", "desktop", "ui"],
                    lastUpdated: "2026-01-18"
                }
            ];
            
            // Simulate API delay
            await new Promise(resolve => setTimeout(resolve, 800));
            
            return mockSkills;
        }
        
        // Function to render skill cards
        function renderSkills(skills) {
            const container = document.getElementById('skills-container');
            container.innerHTML = '';
            
            skills.forEach(skill => {
                const card = document.createElement('div');
                card.className = 'skill-card';
                
                card.innerHTML = `
                    <div class="skill-header">
                        <div class="skill-title">${skill.name}</div>
                    </div>
                    
                    <div class="skill-description">
                        <p>${skill.description}</p>
                    </div>
                    
                    <div class="skill-stats">
                        <div class="stat">‚≠ê ${skill.stars} stars</div>
                        <div class="stat">üç¥ ${skill.forks} forks</div>
                        <div class="stat">üì• ${skill.downloads.toLocaleString()}</div>
                        <div class="stat">üìÖ ${skill.lastUpdated}</div>
                    </div>
                    
                    <div class="github-stats">
                        GitHub Stats: ${skill.stars} ‚≠ê, ${skill.forks} üç¥, ${skill.downloads.toLocaleString()} üì•
                    </div>
                    
                    <div class="safety-rating ${skill.safety}">
                        ${skill.safety.toUpperCase()}
                    </div>
                    
                    <div class="tags">
                        ${skill.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    
                    <div class="repo-source">
                        Repo: github.com/${skill.author}/${skill.repo}
                    </div>
                    
                    <div class="actions">
                        <button class="action-btn download-btn" onclick="downloadSkill('${skill.repo}', '${skill.author}')">üì• DOWNLOAD</button>
                        <button class="action-btn github-btn" onclick="viewGithub('${skill.repo}', '${skill.author}')">üîó GITHUB</button>
                    </div>
                    
                    <div class="comments-section">
                        <h4>Comments:</h4>
                        <textarea class="comment-input" placeholder="Share your experience with this skill..." rows="3"></textarea>
                        <button class="action-btn comment-submit-btn" onclick="submitComment(${skill.id})">Submit Comment</button>
                    </div>
                    
                    <div class="comments-display" id="comments-${skill.id}">
                        <!-- Comments will be displayed here -->
                    </div>
                `;
                
                container.appendChild(card);
            });
        }
        
        // Download skill function
        function downloadSkill(repo, author) {
            // All OpenClaw skills are in the main openclaw repo under skills/ directory
            // So we'll download the main repo which contains all skills
            const downloadUrl = 'https://github.com/openclaw/openclaw/archive/refs/heads/main.zip';
            window.open(downloadUrl, '_blank');
        }
        
        // View on GitHub function
        function viewGithub(repo, author) {
            // All OpenClaw skills are in the main openclaw repo under skills/ directory
            // So we'll link to the specific skill folder in the main repo
            const githubUrl = `https://github.com/openclaw/openclaw/tree/main/skills/${repo}`;
            window.open(githubUrl, '_blank');
        }
        
        // Submit comment function
        function submitComment(skillId) {
            const commentInput = document.querySelector(`#comments-${skillId}`).previousElementSibling.querySelector('.comment-input');
            if (commentInput && commentInput.value.trim() !== '') {
                const commentText = commentInput.value.trim();
                const commentDisplay = document.querySelector(`#comments-${skillId}`);
                
                if (commentDisplay) {
                    const now = new Date();
                    const commentElement = document.createElement('div');
                    commentElement.className = 'comment';
                    commentElement.innerHTML = `
                        <div class="comment-author">User</div>
                        <div class="comment-date">${now.toLocaleDateString()}</div>
                        <div style="clear: both;"></div>
                        <div>${commentText}</div>
                    `;
                    commentDisplay.prepend(commentElement);
                    commentInput.value = '';
                }
                
                alert('Comment submitted!');
            } else {
                alert('Please enter a comment');
            }
        }
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', async function() {
            // Load skills with GitHub statistics
            const skills = await fetchValidatedSkills();
            renderSkills(skills);
            
            // Add event listeners for filters
            document.getElementById('sort-select').addEventListener('change', function() {
                // In real implementation, this would sort the skills
                alert('Sorting by: ' + this.value);
            });
            
            document.getElementById('safety-filter').addEventListener('change', function() {
                // In real implementation, this would filter the skills
                alert('Filtering by safety: ' + this.value);
            });
            
            document.getElementById('min-rating').addEventListener('change', function() {
                // In real implementation, this would filter by rating
                alert('Filtering by minimum rating: ' + this.value);
            });
            
            document.getElementById('search-input').addEventListener('input', function() {
                // In real implementation, this would search the skills
                console.log('Searching for: ' + this.value);
            });
        });
    </script>
</body>
</html>